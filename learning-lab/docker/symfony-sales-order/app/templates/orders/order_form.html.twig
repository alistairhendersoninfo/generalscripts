{% extends 'base.html.twig' %}
{% block title %}Order{% endblock %}
{% block body %}
<h1 class="text-2xl font-semibold mb-6">{% if editing is defined %}Update{% else %}Create{% endif %} order</h1>
{{ form_start(form) }}
<section class="bg-white rounded shadow p-6 space-y-4 mb-6">
  <h2 class="text-lg font-semibold">Order header</h2>
  <div class="grid md:grid-cols-2 gap-4">
    {{ form_row(form.customer, {'row_attr': {'class': 'flex flex-col'}, 'label_attr': {'class': 'text-sm font-medium text-slate-700'}}) }}
    {{ form_row(form.shippingAddress, {'row_attr': {'class': 'flex flex-col'}, 'label_attr': {'class': 'text-sm font-medium text-slate-700'}}) }}
    {{ form_row(form.orderDate, {'row_attr': {'class': 'flex flex-col'}, 'label_attr': {'class': 'text-sm font-medium text-slate-700'}}) }}
    {{ form_row(form.status, {'row_attr': {'class': 'flex flex-col'}, 'label_attr': {'class': 'text-sm font-medium text-slate-700'}}) }}
  </div>
  {{ form_row(form.notes, {'label_attr': {'class': 'text-sm font-medium text-slate-700'}}) }}
</section>
<section class="bg-white rounded shadow p-6 space-y-4">
  <h2 class="text-lg font-semibold">Line items</h2>
  <div id="order-lines" class="space-y-4">
    {% for lineForm in form.lines %}
    <div class="grid md:grid-cols-4 gap-4 bg-slate-50 p-4 rounded">
      {{ form_row(lineForm.sku) }}
      {{ form_row(lineForm.quantity) }}
      {{ form_row(lineForm.unitPrice) }}
      {{ form_row(lineForm._delete) if lineForm._delete is defined }}
    </div>
    {% endfor %}
  </div>
  <p class="text-sm text-slate-500">Use the “Add line” button to capture additional SKUs after submitting the form.</p>
</section>
<div class="mt-6">
  <button type="submit" class="bg-slate-900 text-white px-4 py-2 rounded">Save order</button>
</div>
{{ form_end(form) }}
{% endblock %}
